<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cronômetro</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">

</head>

<style>
    html{
        height: 100%;
    }
    body{
        height: 100%;
        display: flex;  
        flex-direction: column;
        align-items: center;
    }

    .cronometro{
        display: flex;  
        flex-direction: row;
        justify-content: center;
        gap: 20px;
        width: 450px;
        .telaCronometro{
            display: flex;
            flex-direction: column;
            text-align: center;
            width: 200px;
            min-height: 200px;
            #Display{
                display: flex;
                flex-direction: row;
                align-items: center;
                justify-content: center;
                font-size: 30px;
            }
            .botoes{
                display: flex;
                flex-direction: row;
                align-items: center;
                justify-content: center;
                gap: 20px;

                button{
                    min-width: 75px;
                }
            }
        }

        .telaMarcacoes{
            display: flex;
            flex-direction: column;
            text-align: center;
            min-height: 200px;

        }
    }
</style>
<body>
    <!-- cronometro:
    - tela que exibe o tempo
    - botão que inicia
    - botão que pausa e marca o tempo na lateral
    - botão de zerar o cronometro 
    -->

    <div class="cronometro p-3 mb-2 bg-body-secondary">
        <div class="telaCronometro p-3 mb-2 bg-dark text-white">
            <h3>Cronômetro</h3>
            <div id="Display" class="p-3 mb-2 bg-black text-white">
                00:00:00
            </div>
            <div class="botoes">
                <button id="iniciaOuPausa" class="btn btn-sm btn-outline-primary">Iniciar</button>
                <button id="reseta" class="btn btn-sm btn-outline-secondary">Resetar</button>
            </div>
        </div>
        <div class="telaMarcacoes p-3 mb-2 bg-dark text-white">
            <h3>Marcações</h3>
            <ol id="listaM">
            </ol>
        </div>
    </div>


    <script>
        let pausa = false;
        let intervalo;
        let tempoDecorrido = 0;
        let olList = document.getElementById("listaM");
        let botao1 = document.getElementById("iniciaOuPausa");

        botao1.addEventListener('click', ()=>{
            
            
            if(pausa==true){
                clearInterval(intervalo);
                pausa=false;
                botao1.textContent = 'Continuar';
                let marcacao = document.createElement("li");
                marcacao.textContent = `${document.getElementById("Display").innerText}`;
                olList.appendChild(marcacao);
            } else{
                pausa=true;
                botao1.textContent = 'Pausar';
                let tempoInicial = Date.now() - tempoDecorrido;
                intervalo = setInterval(() => {
                    let agora = Date.now();
                    tempoDecorrido = agora - tempoInicial; //dá o tempo em miliseg

                    let totalSegundos = Math.floor(tempoDecorrido/1000);
                    let H = String(Math.floor(totalSegundos/3600)).padStart(2, '0');
                    let M = String(Math.floor((totalSegundos%3600)/60)).padStart(2, '0');
                    let S = String(totalSegundos % 60).padStart(2, '0');

                    document.getElementById("Display").innerText = `${H}:${M}:${S}`;
                    
                }, 1000)

            }
            
        })




        
//        setInterval(() => {
//                let agora = new Date()
//                console.log(agora);
//            }, 1000);
        
        

    </script>
</body>
</html>